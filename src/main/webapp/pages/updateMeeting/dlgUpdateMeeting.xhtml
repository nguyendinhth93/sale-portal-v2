<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:p="http://primefaces.org/ui"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:sn="http://java.sun.com/jsf/composite/tags"
        xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:form id="frmUpdateMeeting">
        <p:focus context="province"/>
        <div class="ui-g ui-fluid">
            <div class="ui-g-12">
                <p:panelGrid columns="6"
                             layout="grid"
                             columnClasses="ui-grid-col-2,ui-grid-col-2,ui-grid-col-2,ui-grid-col-2,ui-grid-col-2,ui-grid-col-2"
                             styleClass="ui-panelgrid-blank form-group"
                             style="border:0px none; background-color:transparent;">

                    <p:outputLabel value="#{lang['input.meeting.customer.name.label']}" for="customerName"/>
                    <p:outputPanel>
                        <p:inputText id="customerName" maxlength="30" readonly="true"
                                     converter="stringTrimmer"
                                     requiredMessage="#{lang['common.msg.require']}"
                                     validatorMessage="#{lang['common.msg.error.filed.code']}"
                                     value="#{updateMeetingController.currentDsaResultMeetingDTO.customerName}">
                        </p:inputText>
                        <p:message for="customerName" />
                    </p:outputPanel>

                    <p:outputLabel value="#{lang['input.meeting.phone.label']}" for="customerPhone"/>
                    <p:outputPanel>
                        <p:inputText id="customerPhone" disabled="true"
                                     converter="stringTrimmer"
                                     requiredMessage="#{lang['common.msg.require']}"
                                     validatorMessage="#{lang['common.msg.error.filed.code']}"
                                     value="#{updateMeetingController.currentDsaResultMeetingDTO.customerPhone}">
                        </p:inputText>
                        <p:message for="customerPhone" />
                    </p:outputPanel>

                    <p:outputLabel value="#{lang['input.meeting.national.id.label']}" for="nationalId"/>
                    <p:outputPanel>
                        <p:inputText id="nationalId" maxlength="30" disabled="true"
                                     converter="stringTrimmer"
                                     requiredMessage="#{lang['common.msg.require']}"
                                     validatorMessage="#{lang['common.msg.error.filed.code']}"
                                     value="#{updateMeetingController.currentDsaResultMeetingDTO.nationalId}">
                        </p:inputText>
                        <p:message for="nationalId" />
                    </p:outputPanel>

                    <p:outputLabel value="#{lang['input.meeting.limit.label']}" for="limit"/>
                    <p:outputPanel>
                        <p:inputText id="limit" maxlength="30" disabled="true"
                                     converter="stringTrimmer"
                                     requiredMessage="#{lang['common.msg.require']}"
                                     validatorMessage="#{lang['common.msg.error.filed.code']}"
                                     value="#{updateMeetingController.currentDsaResultMeetingDTO.limit}">
                        </p:inputText>
                        <p:message for="limit" />
                    </p:outputPanel>

                    <p:outputLabel value="#{lang['input.meeting.limit.card.label']}" for="limitCard"/>
                    <p:outputPanel>
                        <p:inputText id="limitCard" maxlength="30" disabled="true"
                                     converter="stringTrimmer"
                                     requiredMessage="#{lang['common.msg.require']}"
                                     validatorMessage="#{lang['common.msg.error.filed.code']}"
                                     value="#{updateMeetingController.currentDsaResultMeetingDTO.limitCard}">
                        </p:inputText>
                        <p:message for="limitCard" />
                    </p:outputPanel>

                    <p:outputLabel value="#{lang['input.meeting.boundcode.label']}" for="boundCode"/>
                    <p:outputPanel>
                        <p:inputText id="boundCode" maxlength="30" disabled="true"
                                     converter="stringTrimmer"
                                     requiredMessage="#{lang['common.msg.require']}"
                                     validatorMessage="#{lang['common.msg.error.filed.code']}"
                                     value="#{updateMeetingController.currentDsaResultMeetingDTO.boundCode}">
                        </p:inputText>
                        <p:message for="boundCode" />
                    </p:outputPanel>

                    <p:outputLabel value="#{lang['input.meeting.jtl.cca.label']}" for="jtlCcaName"/>
                    <p:outputPanel>
                        <p:inputText id="jtlCcaName" maxlength="30" disabled="true"
                                     converter="stringTrimmer"
                                     requiredMessage="#{lang['common.msg.require']}"
                                     validatorMessage="#{lang['common.msg.error.filed.code']}"
                                     value="#{updateMeetingController.currentDsaResultMeetingDTO.jtlCcaCode}">
                        </p:inputText>
                        <p:message for="jtlCcaName" />
                    </p:outputPanel>

                    <p:outputLabel value="#{lang['input.meeting.cca.label']}" for="ccaName"/>
                    <p:outputPanel>
                        <p:inputText id="ccaName" maxlength="30" disabled="true"
                                     converter="stringTrimmer"
                                     requiredMessage="#{lang['common.msg.require']}"
                                     validatorMessage="#{lang['common.msg.error.filed.code']}"
                                     value="#{updateMeetingController.currentDsaResultMeetingDTO.ccaCode}">
                        </p:inputText>
                        <p:message for="ccaName" />
                    </p:outputPanel>

                    <p:outputLabel value="#{lang['distribute.meeting.call.date.label']}" for="callDate"/>
                    <p:outputPanel>
                        <p:calendar value="#{updateMeetingController.currentDsaResultMeetingDTO.callDate}"
                                    required="true" disabled="true"
                                    requiredMessage="#{lang['input.meeting.meeting.date.req.mess']}"
                                    pattern="#{lang['common.datetime.format']}" mask="true"
                                    id="callDate" navigator="true" styleClass="cal meetdate"
                                    widgetVar="callFromdateWd" showButtonPanel="true">
                            <f:convertDateTime pattern="#{lang['common.datetime.format']}"/>
                        </p:calendar>
                        <p:message for="callDate" />
                    </p:outputPanel>

                    <p:outputLabel value="#{lang['distribute.meeting.tl.dsa.label']}" for="tlDsaCode"/>
                    <p:outputPanel>
                        <p:inputText id="tlDsaCode" maxlength="30" disabled="true"
                                     converter="stringTrimmer"
                                     requiredMessage="#{lang['common.msg.require']}"
                                     validatorMessage="#{lang['common.msg.error.filed.code']}"
                                     value="#{updateMeetingController.currentDsaResultMeetingDTO.tlDsaCode}">
                        </p:inputText>
                        <p:message for="tlDsaCode" />
                    </p:outputPanel>

                    <p:outputLabel value="#{lang['distribute.meeting.dsa.label']}" for="dsaCode"/>
                    <p:outputPanel>
                        <p:inputText id="dsaCode" maxlength="30" disabled="true"
                                     converter="stringTrimmer"
                                     requiredMessage="#{lang['common.msg.require']}"
                                     validatorMessage="#{lang['common.msg.error.filed.code']}"
                                     value="#{updateMeetingController.currentDsaResultMeetingDTO.dsaCode}">
                        </p:inputText>
                        <p:message for="dsaCode" />
                    </p:outputPanel>

                    <p:outputLabel value="#{lang['update.meeting.product.type.label']}" for="productType"/>
                    <p:outputPanel>
                        <p:selectOneMenu id="productType" filter="true" filterMatchMode="contains"
                                         panelStyleClass="ui-input-overlay"
                                         requiredMessage="#{lang['common.msg.require']}"
                                         validatorMessage="#{lang['common.msg.error.filed.code']}"
                                         value="#{updateMeetingController.currentDsaResultMeetingDTO.productType}">
                            <f:selectItem itemValue="#{null}" itemLabel="#{lang['common.label.choose']}" escape="true"/>
                            <f:selectItems value="#{updateMeetingController.productTypes}"
                                           var="productType"
                                           itemValue="#{productType.value}"
                                           itemLabel="#{productType.name}"
                            />
                        </p:selectOneMenu>
                        <p:message for="productType" />
                    </p:outputPanel>

                    <p:outputLabel value="#{lang['distribute.meeting.province.label']}" for="province"/>
                    <p:outputPanel>
                        <p:selectOneMenu id="province" filter="true" filterMatchMode="contains" required="true"
                                         panelStyleClass="ui-input-overlay"
                                         requiredMessage="#{lang['common.msg.require']}"
                                         validatorMessage="#{lang['common.msg.error.filed.code']}"
                                         value="#{updateMeetingController.currentDsaResultMeetingDTO.provinceMeetingCode}">
                            <f:selectItem itemValue="#{null}" itemLabel="#{lang['common.label.choose']}" escape="true"/>
                            <f:selectItems value="#{updateMeetingController.lstProvinces}"
                                           var="areaDTO"
                                           itemValue="#{areaDTO.code}"
                                           itemLabel="#{areaDTO.name}"
                            />
                            <p:ajax listener="#{updateMeetingController.getListDistrictByProvinceId(updateMeetingController.currentDsaResultMeetingDTO.provinceMeetingCode)}" update="district" />
                        </p:selectOneMenu>
                        <p:message for="province" />
                    </p:outputPanel>

                    <p:outputLabel value="#{lang['distribute.meeting.district.label']}" for="district"/>
                    <p:outputPanel>
                        <p:selectOneMenu id="district" filter="true" filterMatchMode="contains" required="true"
                                         requiredMessage="#{lang['common.msg.require']}"
                                         validatorMessage="#{lang['common.msg.error.filed.code']}"
                                         value="#{updateMeetingController.currentDsaResultMeetingDTO.districtMeetingCode}">
                            <f:selectItem itemValue="#{null}" itemLabel="#{lang['common.label.choose']}" escape="true"/>
                            <f:selectItems value="#{updateMeetingController.lstDistricts}"
                                           var="areaDTO"
                                           itemValue="#{areaDTO.code}"
                                           itemLabel="#{areaDTO.name}"
                            />
                        </p:selectOneMenu>
                        <p:message for="district" />
                    </p:outputPanel>

                    <p:outputLabel value="#{lang['distribute.meeting.location.label']}" for="meetingAddress"/>
                    <p:outputPanel>
                        <p:inputText id="meetingAddress" maxlength="2000"
                                     converter="stringTrimmer"
                                     requiredMessage="#{lang['common.msg.require']}"
                                     validatorMessage="#{lang['common.msg.error.filed.code']}"
                                     value="#{updateMeetingController.currentDsaResultMeetingDTO.meetingAddress}">
                        </p:inputText>
                        <p:message for="meetingAddress" />
                    </p:outputPanel>

                    <p:outputLabel value="#{lang['distribute.meeting.time.label']}" for="meetingTime"/>
                    <p:outputPanel>
                        <p:inputText id="meetingTime" maxlength="200"
                                     converter="stringTrimmer"
                                     requiredMessage="#{lang['common.msg.require']}"
                                     validatorMessage="#{lang['common.msg.error.filed.code']}"
                                     value="#{updateMeetingController.currentDsaResultMeetingDTO.meetingTime}">
                        </p:inputText>
                        <p:message for="meetingTime" />
                    </p:outputPanel>

                    <p:outputLabel value="#{lang['distribute.meeting.meet.date.label']}" for="meetingDate"/>
                    <p:outputPanel>
                        <p:calendar value="#{updateMeetingController.currentDsaResultMeetingDTO.meetingDate}"
                                    label="#{updateMeetingController.currentDsaResultMeetingDTO.meetingDate}"
                                    required="true"
                                    requiredMessage="#{lang['input.meeting.meeting.date.req.mess']}"
                                    pattern="#{lang['common.datetime.format']}" mask="true"
                                    id="meetingDate" navigator="true" styleClass="cal meetdate"
                                    widgetVar="callFromdateWd" showButtonPanel="true">
                            <f:convertDateTime pattern="#{lang['common.datetime.format']}"/>
                        </p:calendar>
                        <p:message for="meetingDate" />
                    </p:outputPanel>

                    <p:outputLabel value="#{lang['distribute.meeting.accept.status.lbl']}" for="ccaKeepStatus"/>
                    <p:outputPanel>
                        <p:selectOneMenu id="ccaKeepStatus" filter="true" filterMatchMode="contains" required="true"
                                         panelStyleClass="ui-input-overlay"
                                         requiredMessage="#{lang['common.msg.require']}"
                                         validatorMessage="#{lang['common.msg.error.filed.code']}"
                                         value="#{updateMeetingController.currentDsaResultMeetingDTO.acceptStatus}">
                            <f:selectItem itemValue="#{null}" itemLabel="#{lang['common.label.choose']}" escape="true"/>
                            <f:selectItems value="#{updateMeetingController.ccaAcceptStatus}"
                                           var="ccaAcceptStatus"
                                           itemValue="#{ccaAcceptStatus.value}"
                                           itemLabel="#{ccaAcceptStatus.name}"
                            />
                        </p:selectOneMenu>
                        <p:message for="ccaKeepStatus" />
                    </p:outputPanel>

                </p:panelGrid>
                <p:panelGrid columns="2"
                             layout="grid"
                             columnClasses="ui-grid-col-2,ui-grid-col-10"
                             styleClass="ui-panelgrid-blank form-group"
                             style="border:0px none; background-color:transparent;">
                    <p:outputLabel value="#{lang['input.meeting.cca.note.label']}" for="ccaNote"/>
                    <p:outputPanel>
                        <p:inputTextarea id="ccaNote" maxlength="2000" autoResize="true"
                                         value="#{updateMeetingController.currentDsaResultMeetingDTO.ccaNote}" converter="stringTrimmer"/>
                        <p:message for="ccaNote" />
                    </p:outputPanel>
                </p:panelGrid>
            </div>
        </div>
        <div style="margin-top: 20px;" class="al-center">
            <sn:confirmDialog
                    idComponent="btnSave"
                    valueButton="#{lang['common.btn.save']}"
                    headerConfirm="#{lang['common.confirm.header']}"
                    messageConfirm="#{lang['common.confirm.message']}"
                    actionValidate="#{updateMeetingController.validateBeforeUpdate}"
                    actionOK="#{updateMeetingController.updateMeeting}"
                    iconButton="ui-icon-save"
                    updateArea="@([id$=frmUpdateMeeting])"
                    updateOK="@([id$=tblResultSearch])"
                    process="@this, @([id$=frmUpdateMeeting])"
                    styleButton="margin-right: 5px"
                    focusCancel="false"
                    isButton="true"/>
            <p:commandButton value="#{lang['common.btn.close']}"
                             immediate="true"
                             onclick="PF('dlgUpdateMeeting').hide()"
                             icon="ui-icon-close" />
        </div>
    </h:form>
</ui:composition>